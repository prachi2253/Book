<%= bookitems %>

<% for(let book of bookitems){%>
    <div class="item">
      <form action="/delete" method="post">
        <input type="checkbox" onchange="this.form.submit()" name="deleteItemId" value="<%= book.id %>">
      </form>

      <p id="title<%=book.id%>">
        <%= book.isbn %>
        <%= book.title %>
        <%= book.author %>
        <%= book.review %>
        <%= book.rating %>
      </p>

<form class="edit" action="/edit" method="post">
    <input type="hidden" name="updatedItemId" value="<%= book.id %>">
    <input id="input<%=book.id%>" type="text" name="updatedItemisbn" value="<%= book.isbn %>" autocomplete="off"
      autofocus="true" hidden="true" />
      <input id="input<%=book.id%>" type="text" name="updatedItemtitle" value="<%= book.title %>" autocomplete="off"
      autofocus="true" hidden="true" />
      <input id="input<%=book.id%>" type="text" name="updatedItemauthor" value="<%= book.author %>" autocomplete="off"
      autofocus="true" hidden="true" />
      <input id="input<%=book.id%>" type="text" name="updatedItemreview" value="<%= book.review %>" autocomplete="off"
      autofocus="true" hidden="true" />
      <input id="input<%=book.id%>" type="text" name="updatedItemrating" value="<%= book.rating %>" autocomplete="off"
      autofocus="true" hidden="true" />
      
    <button id="done<%=item.id%>" class="edit" type="submit" hidden>DONE</button>
  </form>
  <button id="edit<%=item.id%>" class="edit" onclick="handler('<%=item.id%>')">EDIT</button>
</div>
<% } %>
<script>
function handler(id) {
    document.getElementById("title" + id).setAttribute("hidden", true)
    document.getElementById("edit" + id).setAttribute("hidden", true)
    document.getElementById("done" + id).removeAttribute("hidden")
    document.getElementById("input" + id).removeAttribute("hidden")
  }
</script>
<%- include('partials/footer.ejs'); -%>